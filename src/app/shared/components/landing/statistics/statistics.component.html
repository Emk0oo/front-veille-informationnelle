<section id="statistics" class="py-16 bg-gray-50">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">Indicateur globaux</h2>
      <p class="text-lg text-gray-600 max-w-3xl mx-auto">
        Notre plateforme traite de vastes quantités de données pour fournir des informations et des informations exploitables *
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
      <!-- Stat Cards -->
      <div *ngFor="let card of statCards" class="stat-card bg-white rounded-lg p-6 shadow-md">
        <h3 class="text-gray-500 text-sm font-medium mb-2">{{ card.title }}</h3>
        <div class="text-3xl font-bold">{{ card.value }}</div>
        <p class="text-gray-600 mt-1">
          {{ card.description }}
        </p>
      </div>
    </div>

    <div class="text-center my-2">
      <p class="text-sm text-gray-400 max-w-3xl mx-auto">
        * Certaines données sont traitées par une intelligence artificielle et en cours de développement. Certaines données peuvent être inexactes. A manipuler avec précaution.
      </p>
    </div>

    <!-- Data Visualization Section -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-12">
      <h3 class="text-xl font-semibold mb-4">
        Tension et risque global par région
      </h3>
      <div class="chart-container">
        <!-- Barres du graphique avec largeur réduite mais hauteur conservée -->
        <div class="chart-bar" style="left: 4%; height: 65%; background-color: #ef4444;"></div>
        <div class="chart-bar" style="left: 15.5%; height: 45%; background-color: #f97316;"></div>
        <div class="chart-bar" style="left: 26.5%; height: 30%; background-color: #eab308;"></div>
        <div class="chart-bar" style="left: 37.5%; height: 80%; background-color: #ef4444;"></div>
        <div class="chart-bar" style="left: 48.5%; height: 20%; background-color: #22c55e;"></div>
        <div class="chart-bar" style="left: 59.5%; height: 40%; background-color: #f97316;"></div>
        <div class="chart-bar" style="left: 70.5%; height: 55%; background-color: #f97316;"></div>
        <div class="chart-bar" style="left: 81.5%; height: 25%; background-color: #eab308;"></div>
        <div class="chart-bar" style="left: 92.5%; height: 35%; background-color: #eab308;"></div>
      </div>
      
      <!-- Labels alignés avec les barres -->
      <div class="region-labels">
        <div class="region-label" style="left: 4%;">Moyen Orient</div>
        <div class="region-label" style="left: 15.5%;">Europe</div>
        <div class="region-label" style="left: 26.5%;">Afrique</div>
        <div class="region-label" style="left: 37.5%;">Asie central</div>
        <div class="region-label" style="left: 48.5%;">Asie de l'Est</div>
        <div class="region-label" style="left: 59.5%;">Asie du Sud</div>
        <div class="region-label" style="left: 70.5%;">Am. Nord</div>
        <div class="region-label" style="left: 81.5%;">Am. Sud</div>
        <div class="region-label" style="left: 92.5%;">Océanie</div>
      </div>
      
      <div class="flex items-center justify-center mt-12 space-x-4 text-sm">
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-red-500 mr-1"></div>
          <span>Risque élevé</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-orange-500 mr-1"></div>
          <span>Risque moyen</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-yellow-500 mr-1"></div>
          <span>Risque modéré</span>
        </div>
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full bg-green-500 mr-1"></div>
          <span>Risque faible</span>
        </div>
      </div>
    </div>

    <!-- Key Metrics Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-xl font-semibold mb-4">
          Risque de conflit
        </h3>
        <div class="space-y-4">
          <div *ngFor="let risk of conflictRisks">
            <div class="flex justify-between mb-1">
              <span class="text-sm font-medium text-gray-700">{{ risk.region }}</span>
              <span class="text-sm font-medium" [ngClass]="getTextColorClass(risk.color)">{{ risk.level }}</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2.5">
              <div
                [ngClass]="getColorClass(risk.color)"
                class="h-2.5 rounded-full"
                [ngStyle]="{'width': risk.percentage + '%'}"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-xl font-semibold mb-4">Indice de stabilité économique</h3>
        <div class="space-y-4">
          <div *ngFor="let stability of economicStability">
            <div class="flex justify-between mb-1">
              <span class="text-sm font-medium text-gray-700">{{ stability.region }}</span>
              <span class="text-sm font-medium" [ngClass]="getTextColorClass(stability.color)">{{ stability.level }}</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2.5">
              <div
                [ngClass]="getColorClass(stability.color)"
                class="h-2.5 rounded-full"
                [ngStyle]="{'width': stability.percentage + '%'}"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>